<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="title-wrapper">

        <h2>BH PZEM - Painel de Configuração</h2>
    </div>
    <form action="/saveconfig" method="post">

        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <div id="sensors" class="box-sensors">
                        <h3 style="text-align: center;">Sensores</h3>
                    </div>
                </div>
            </div>
        </div>
        <p>
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <div class="box-config">
                            <h3 style="text-align: center;">DETALHES DO NÓ</h3>
                            <label for="node_id">Nome</label>
                            <input type="text" name="nodeId" id="node_id" placeholder="ex: pzem-solar">
                            <label for="delay_notification">Intervalo entre leituras</label>
                            <select name="notificationInterval" id="delay_notification">
                                <option value="5">5 segundos</option>
                                <option value="10">10 segundos</option>
                                <option value="15">15 segundos</option>
                            </select>
                            <div class="form-check">
                                <input type="checkbox" name="directionCurrentDetection" class="form-check-input" id="exampleCheck1">
                                <label class="form-check-label" for="exampleCheck1">Deteção de sentido de corrente</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="box-config">
                            <h3 style="text-align: center;">Wi-Fi</h3>
                            <label for="ssid">SSID</label>
                            <input type="text" name="wifiSSID" id="ssid" placeholder="ex: meuwifi">
                            <label for="wifi_secret">Password</label>
                            <input name="wifiSecret" type="password" id="wifi_secret" placeholder="ex: superpassword">
                        </div>
                    </div>
                </div>
            </div>
            <p></p>
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <div class="box-config">
                            <h3 style="text-align: center;">EMONCMS</h3>
                            <label for="emoncms_api_url">API Url</label>
                            <input name="emoncmsUrl" type="text" id="emoncms_api_url" placeholder="ex: emoncms.org">
                            <label for="emoncms_api_prefix">Prefixo (deixar em branco no caso do url ser directo)</label>
                            <input name="emoncmsPrefix" type="text" id="emoncms_api_prefix" placeholder="ex: /emoncms">
                            <label for="emoncms_api_key">API Key</label>
                            <input name="emoncmsApiKey" type="text" id="emoncms_api_key" placeholder="ex: f4651ce9swq098d57375d960c612e081">
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="box-config">
                            <h3 style="text-align: center;">MQTT</h3>
                            <label for="mqtt_ip">Broker IP/DNS</label>
                            <input name="mqttIpDns" type="text" id="mqtt_ip" placeholder="ex: 192.168.1.30">
                            <label for="mqtt_username">Username</label>
                            <input name="mqttUsername" type="text" id="mqtt_username" placeholder="ex: iam">
                            <label for="mqtt_password">Password</label>
                            <input name="mqttPassword" type="password" id="mqtt_password" placeholder="ex: superstrongpassword">
                        </div>
                    </div>
                    <div class="col-sm">
                        <div class="box-config">
                            <h3 style="text-align: center;">GPIO's</h3>
                            <label for="IO_00">IO 0</label>
                            <select name="IO_00" id="IO_00">
                                <option value="">Nenhum</option>
                                <option value="00|relay_1|NORMAL">Relé 1 Normal</option>
                                <option value="00|relay_1|INVERTED">Relé 1 Invertido</option>

                                <option value="00|relay_2|NORMAL">Relé 2 Normal</option>
                                <option value="00|relay_2|INVERTED">Relé 2 Invertido</option>

                                <option value="00|relay_3|NORMAL">Relé 3 Normal</option>
                                <option value="00|relay_3|INVERTED">Relé 3 Invertido</option>

                                <option value="00|relay_4|NORMAL">Relé 4 Normal</option>
                                <option value="00|relay_4|INVERTED">Relé 4 Invertido</option>

                                <option value="00|relay_5|NORMAL">Relé 5 Normal</option>
                                <option value="00|relay_5|INVERTED">Relé 5 Invertido</option>

                                <option value="00|DISPLAY|SDA">Display SDA</option>
                                <option value="00|DISPLAY|SCL">Display SCL</option>
                            </select>
                            <label for="IO_02">IO 02</label>
                            <select name="IO_02" id="IO_02">
                                <option value="">Nenhum</option>
                                <option value="02|relay_1|NORMAL">Relé 1 Normal</option>
                                <option value="02|relay_1|INVERTED">Relé 1 Invertido</option>

                                <option value="02|relay_2|NORMAL">Relé 2 Normal</option>
                                <option value="02|relay_2|INVERTED">Relé 2 Invertido</option>

                                <option value="02|relay_3|NORMAL">Relé 3 Normal</option>
                                <option value="02|relay_3|INVERTED">Relé 3 Invertido</option>

                                <option value="02|relay_4|NORMAL">Relé 4 Normal</option>
                                <option value="02|relay_4|INVERTED">Relé 4 Invertido</option>

                                <option value="02|relay_5|NORMAL">Relé 5 Normal</option>
                                <option value="02|relay_5|INVERTED">Relé 5 Invertido</option>

                                <option value="02|DISPLAY|SDA">Display SDA</option>
                                <option value="02|DISPLAY|SCL">Display SCL</option>
                            </select>
                            <label for="IO_13">IO 13</label>
                            <select name="IO_13" id="IO_13">
                                <option value="">Nenhum</option>
                                <option value="13|relay_1|NORMAL">Relé 1 Normal</option>
                                <option value="13|relay_1|INVERTED">Relé 1 Invertido</option>

                                <option value="13|relay_2|NORMAL">Relé 2 Normal</option>
                                <option value="13|relay_2|INVERTED">Relé 2 Invertido</option>

                                <option value="13|relay_3|NORMAL">Relé 3 Normal</option>
                                <option value="13|relay_3|INVERTED">Relé 3 Invertido</option>

                                <option value="13|relay_4|NORMAL">Relé 4 Normal</option>
                                <option value="13|relay_4|INVERTED">Relé 4 Invertido</option>

                                <option value="13|relay_5|NORMAL">Relé 5 Normal</option>
                                <option value="13|relay_5|INVERTED">Relé 5 Invertido</option>

                                <option value="13|DISPLAY|SDA">Display SDA</option>
                                <option value="13|DISPLAY|SCL">Display SCL</option>
                            </select>
                            <label for="IO_15">IO 15</label>
                            <select name="IO_15" id="IO_15">
                                <option value="">Nenhum</option>
                                <option value="15|relay_1|NORMAL">Relé 1 Normal</option>
                                <option value="15|relay_1|INVERTED">Relé 1 Invertido</option>

                                <option value="15|relay_2|NORMAL">Relé 2 Normal</option>
                                <option value="15|relay_2|INVERTED">Relé 2 Invertido</option>

                                <option value="15|relay_3|NORMAL">Relé 3 Normal</option>
                                <option value="15|relay_3|INVERTED">Relé 3 Invertido</option>

                                <option value="15|relay_4|NORMAL">Relé 4 Normal</option>
                                <option value="15|relay_4|INVERTED">Relé 4 Invertido</option>

                                <option value="15|relay_5|NORMAL">Relé 5 Normal</option>
                                <option value="15|relay_5|INVERTED">Relé 5 Invertido</option>

                                <option value="15|DISPLAY|SDA">Display SDA</option>
                                <option value="15|DISPLAY|SCL">Display SCL</option>
                            </select>
                            <label for="IO_16">IO 16</label>
                            <select name="IO_16" id="IO_16">
                                <option value="">Nenhum</option>
                                <option value="16|relay_1|NORMAL">Relé 1 Normal</option>
                                <option value="16|relay_1|INVERTED">Relé 1 Invertido</option>

                                <option value="16|relay_2|NORMAL">Relé 2 Normal</option>
                                <option value="16|relay_2|INVERTED">Relé 2 Invertido</option>

                                <option value="16|relay_3|NORMAL">Relé 3 Normal</option>
                                <option value="16|relay_3|INVERTED">Relé 3 Invertido</option>

                                <option value="16|relay_4|NORMAL">Relé 4 Normal</option>
                                <option value="16|relay_4|INVERTED">Relé 4 Invertido</option>

                                <option value="16|relay_5|NORMAL">Relé 5 Normal</option>
                                <option value="16|relay_5|INVERTED">Relé 5 Invertido</option>

                                <option value="16|DISPLAY|SDA">Display SDA</option>
                                <option value="16|DISPLAY|SCL">Display SCL</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <p></p>
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <div class="box-config">
                            <div>
                                <input class="save-btn" type="submit" value="Guardar Configuração" />
                            </div>
                            <h6>Desenvolvido por Bruno Horta @ 2018</h6>
                        </div>
                    </div>
                </div>
            </div>
    </form>
    <p></p>
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <div class="box-config">
                    <form method='POST' action='/update' enctype='multipart/form-data'>
                        <input type='file' name='update'>
                        <input type='submit' value='Atualizar Firmware'>
                    </form>
                    <h6>Versão do firmware
                        <span id="firmwareVersion" class="badge badge-secondary">1.0</span>
                    </h6>
                </div>
            </div>
        </div>
    </div>

    <script src="jquery.min.js"></script>
    <script src="GaugeMeter.js"></script>
    <script src="index.js"></script>

</body>


</html>